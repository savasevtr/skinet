{"version":3,"sources":["src/app/shop/product-details/product-details.component.html","src/app/shop/product-item/product-item.component.html","src/app/shop/shop.component.html","src/app/shared/models/pagination.ts","src/app/shared/models/shopParams.ts","src/app/shop/product-details/product-details.component.scss","src/app/shop/product-details/product-details.component.ts","src/app/shop/product-item/product-item.component.scss","src/app/shop/product-item/product-item.component.ts","src/app/shop/shop-routing.module.ts","src/app/shop/shop.component.scss","src/app/shop/shop.component.ts","src/app/shop/shop.module.ts","src/app/shop/shop.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"container mt-5\\\">\\n    <div class=\\\"row\\\" *ngIf=\\\"product\\\">\\n        \\n        <div class=\\\"col-6\\\">\\n            <img src=\\\"{{ product.pictureUrl }}\\\" alt=\\\"{{ product.name }}\\\" class=\\\"img-fluid w-100\\\">\\n        </div>\\n\\n        <div class=\\\"col-6\\\">\\n            <h3>{{ product.name }}</h3>\\n            <p style=\\\"font-size: 2em;\\\">{{ product.price | currency }}</p>\\n\\n            <div class=\\\"d-flex justify-content-start align-items-center\\\">\\n                <i (click)=\\\"decrementQuantity()\\\" class=\\\"fa fa-minus-circle text-warning mr-2\\\" style=\\\"cursor: pointer; font-size: 2em;\\\"></i>\\n                <span class=\\\"font-weight-bold\\\" style=\\\"font-size: 1.5em;\\\">{{ quantity }}</span>\\n                <i (click)=\\\"incrementQuantity()\\\" class=\\\"fa fa-plus-circle text-warning mx-2\\\" style=\\\"cursor: pointer; font-size: 2em;\\\"></i>\\n                <button (click)=\\\"addItemToBasket()\\\" class=\\\"btn btn-outline-primary ml-4\\\">Add to Cart</button>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row mt-5\\\">\\n            <div class=\\\"col-12 ml-3\\\">\\n                <h4>Description</h4>\\n                <p>{{ product.description }}</p>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"","export default \"<div class=\\\"card h-100 shadow-sm\\\">\\n\\n    <div class=\\\"image position-relative\\\" style=\\\"cursor: pointer;\\\">\\n        <img src=\\\"{{ product.pictureUrl }}\\\" alt=\\\"{{ product.name }}\\\" class=\\\"img-fluid bg-info\\\"/>\\n        <div class=\\\"d-flex align-items-center justify-content-center hover-overlay\\\">\\n            <button (click)=\\\"addItemToBasket()\\\" type=\\\"button\\\" class=\\\"btn btn-sm btn-primary fa fa-shopping-cart mr-2\\\"></button>\\n            <button routerLink=\\\"/shop/{{ product.id }}\\\" type=\\\"button\\\" class=\\\"btn btn-sm btn-primary\\\">View</button>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"card-body d-flex flex-column\\\">\\n        <a routerLink=\\\"/shop/{{ product.id }}\\\">\\n            <h6 class=\\\"text-uppercase\\\">{{ product.name }}</h6>\\n        </a>\\n        <span class=\\\"mb-2\\\">{{ product.price | currency }}</span>\\n    </div>\\n\\n</div>\"","export default \"<div class=\\\"container mt-5\\\">\\n    <div class=\\\"row\\\">\\n        <section class=\\\"col-3\\\">\\n            <ng-container *ngIf=\\\"types && brands\\\">\\n                <h5 class=\\\"text-warning ml-1 mt-3 mb-4\\\">Sort</h5>\\n                <select class=\\\"custom-select mb-4\\\" (change)=\\\"onSortSelected($event.target.value)\\\">\\n                    <option *ngFor=\\\"let sort of sortOptions\\\"\\n                        [selected]=\\\"shopParams.sort === sort.value\\\"\\n                        [value]=\\\"sort.value\\\">\\n                        {{ sort.name }}\\n                    </option>\\n                </select>\\n    \\n                <h5 class=\\\"text-warning ml-1\\\">Brands</h5>\\n                <ul class=\\\"list-group my-4\\\">\\n                    <li class=\\\"list-group-item\\\"\\n                        *ngFor=\\\"let brand of brands\\\"\\n                        [class.active]=\\\"brand.id === this.shopParams.brandId\\\"\\n                        (click)=\\\"onBrandSelected(brand.id)\\\"\\n                    >\\n                        {{ brand.name }}\\n                    </li>\\n                </ul>\\n    \\n                <h5 class=\\\"text-warning ml-1\\\">Types</h5>\\n                <ul class=\\\"list-group my-4\\\">\\n                    <li class=\\\"list-group-item\\\"\\n                        *ngFor=\\\"let type of types\\\"\\n                        [class.active]=\\\"type.id === this.shopParams.typeId\\\"\\n                        (click)=\\\"onTypeSelected(type.id)\\\">\\n                        {{ type.name }}\\n                    </li>\\n                </ul>\\n            </ng-container>\\n        </section>\\n\\n        <section class=\\\"col-9\\\" *ngIf=\\\"products\\\">\\n            <div class=\\\"d-flex justify-content-between align-items-center pb-2\\\">\\n                <app-paging-header\\n                    [totalCount]=\\\"totalCount\\\"\\n                    [pageSize]=\\\"shopParams.pageSize\\\"\\n                    [pageNumber]=\\\"shopParams.pageNumber\\\">\\n                </app-paging-header>\\n\\n                <div class=\\\"form-inline\\\">\\n                    <input (keyup.enter)=\\\"onSearch()\\\" type=\\\"text\\\" class=\\\"form-control mr-2\\\" #search style=\\\"width: 300px\\\" placeholder=\\\"Search\\\" />\\n                    <button (click)=\\\"onSearch()\\\" class=\\\"btn btn-outline-primary my-2\\\">Search</button>\\n                    <button (click)=\\\"onReset()\\\" class=\\\"btn btn-outline-success ml-2 my-2\\\">Reset</button>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-4 mb-4\\\" *ngFor=\\\"let item of products\\\">\\n                    <app-product-item [product]=\\\"item\\\"></app-product-item>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"d-flex justify-content-center\\\" *ngIf=\\\"totalCount > 0\\\">\\n                <app-pager\\n                    [pageSize]=\\\"shopParams.pageSize\\\"\\n                    [totalCount]=\\\"totalCount\\\"\\n                    [pageNumber]=\\\"shopParams.pageNumber\\\"\\n                    (pageChanged)=\\\"onPageChanged($event)\\\">\\n                </app-pager>\\n            </div>\\n        </section>\\n    </div>\\n</div>\"","import { IProduct } from \"./product\";\r\n\r\nexport interface IPagination {\r\n    pageIndex: number;\r\n    pageSize: number;\r\n    count: number;\r\n    data: IProduct[];\r\n}\r\n\r\nexport class Pagination implements IPagination {\r\n    pageIndex: number;\r\n    pageSize: number;\r\n    count: number;\r\n    data: IProduct[] = [];\r\n}\r\n","export class ShopParams {\r\n    brandId = 0;\r\n    typeId = 0;\r\n    sort = 'name';\r\n    pageNumber = 1;\r\n    pageSize = 6;\r\n    search: string;\r\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Nob3AvcHJvZHVjdC1kZXRhaWxzL3Byb2R1Y3QtZGV0YWlscy5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { IProduct } from 'src/app/shared/models/product';\nimport { BreadcrumbService } from 'xng-breadcrumb';\nimport { ShopService } from '../shop.service';\n\n@Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.scss']\n})\nexport class ProductDetailsComponent implements OnInit {\n  product: IProduct;\n  quantity = 1;\n\n  constructor(\n    private shopService: ShopService,\n    private activateRoute: ActivatedRoute,\n    private breadcrumbService: BreadcrumbService,\n    private basketService: BasketService\n  ) {\n    this.breadcrumbService.set('@productDetails', '');\n  }\n\n  ngOnInit() {\n    this.loadProduct();\n  }\n\n  addItemToBasket() {\n    this.basketService.addItemToBasket(this.product, this.quantity);\n  }\n\n  incrementQuantity() {\n    this.quantity++;\n  }\n\n  decrementQuantity() {\n    if (this.quantity > 1) {\n      this.quantity--;\n    }\n  }\n\n  loadProduct() {\n    this.shopService.getProduct(+this.activateRoute.snapshot.paramMap.get('id')).subscribe(product => {\n      this.product = product;\n      this.breadcrumbService.set('@productDetails', product.name);\n    }, error => {\n      console.log(error);\n    });\n  }\n}\n","export default \".btn {\\n  width: 30%;\\n  height: 40px;\\n}\\n\\n.image :hover {\\n  opacity: 1;\\n}\\n\\n.image :hover button {\\n  transform: none;\\n  opacity: 1;\\n}\\n\\n.hover-overlay {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  background: rgba(255, 255, 255, 0.5);\\n  opacity: 0;\\n  transition: all 0.5s;\\n}\\n\\n.hover-overlay button {\\n  z-index: 1000;\\n  transition: all 0.5s;\\n}\\n\\n.hover-overlay button:first-of-type {\\n  transform: translateX(-20px);\\n}\\n\\n.hover-overlay button:last-of-type {\\n  transform: translateX(20px);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hvcC9wcm9kdWN0LWl0ZW0vQzpcXFVzZXJzXFxTRTJcXERlc2t0b3BcXHNraW5ldFxcY2xpZW50L3NyY1xcYXBwXFxzaG9wXFxwcm9kdWN0LWl0ZW1cXHByb2R1Y3QtaXRlbS5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvc2hvcC9wcm9kdWN0LWl0ZW0vcHJvZHVjdC1pdGVtLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksVUFBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7QUNDSjs7QURBSTtFQUNJLGVBQUE7RUFDQSxVQUFBO0FDRVI7O0FERUE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxvQ0FBQTtFQUNBLFVBQUE7RUFDQSxvQkFBQTtBQ0NKOztBRENJO0VBQ0ksYUFBQTtFQUNBLG9CQUFBO0FDQ1I7O0FEQ0k7RUFDSSw0QkFBQTtBQ0NSOztBRENJO0VBQ0ksMkJBQUE7QUNDUiIsImZpbGUiOiJzcmMvYXBwL3Nob3AvcHJvZHVjdC1pdGVtL3Byb2R1Y3QtaXRlbS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idG4ge1xyXG4gICAgd2lkdGg6IDMwJTtcclxuICAgIGhlaWdodDogNDBweDtcclxufVxyXG5cclxuLmltYWdlIDpob3ZlciB7XHJcbiAgICBvcGFjaXR5OiAxO1xyXG4gICAgJiBidXR0b24ge1xyXG4gICAgICAgIHRyYW5zZm9ybTogbm9uZTtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgfVxyXG59XHJcblxyXG4uaG92ZXItb3ZlcmxheSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XHJcbiAgICBvcGFjaXR5OiAwO1xyXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuNXM7XHJcblxyXG4gICAgJiBidXR0b24ge1xyXG4gICAgICAgIHotaW5kZXg6IDEwMDA7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNXM7XHJcbiAgICB9XHJcbiAgICAmIGJ1dHRvbjpmaXJzdC1vZi10eXBlIHtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTIwcHgpO1xyXG4gICAgfVxyXG4gICAgJiBidXR0b246bGFzdC1vZi10eXBlIHtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMjBweCk7XHJcbiAgICB9XHJcbn0iLCIuYnRuIHtcbiAgd2lkdGg6IDMwJTtcbiAgaGVpZ2h0OiA0MHB4O1xufVxuXG4uaW1hZ2UgOmhvdmVyIHtcbiAgb3BhY2l0eTogMTtcbn1cbi5pbWFnZSA6aG92ZXIgYnV0dG9uIHtcbiAgdHJhbnNmb3JtOiBub25lO1xuICBvcGFjaXR5OiAxO1xufVxuXG4uaG92ZXItb3ZlcmxheSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IGFsbCAwLjVzO1xufVxuLmhvdmVyLW92ZXJsYXkgYnV0dG9uIHtcbiAgei1pbmRleDogMTAwMDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuNXM7XG59XG4uaG92ZXItb3ZlcmxheSBidXR0b246Zmlyc3Qtb2YtdHlwZSB7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMjBweCk7XG59XG4uaG92ZXItb3ZlcmxheSBidXR0b246bGFzdC1vZi10eXBlIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDIwcHgpO1xufSJdfQ== */\"","import { Component, Input, OnInit } from '@angular/core';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { IProduct } from 'src/app/shared/models/product';\n\n@Component({\n  selector: 'app-product-item',\n  templateUrl: './product-item.component.html',\n  styleUrls: ['./product-item.component.scss']\n})\nexport class ProductItemComponent implements OnInit {\n  @Input() product: IProduct;\n\n  constructor(private basketService: BasketService) { }\n\n  ngOnInit() {\n  }\n\n  addItemToBasket() {\n    this.basketService.addItemToBasket(this.product);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ShopComponent } from './shop.component';\nimport { ProductDetailsComponent } from './product-details/product-details.component';\n\nconst routes: Routes = [\n  { path: '', component: ShopComponent },\n  { path: ':id', component: ProductDetailsComponent, data: { breadcrumb: { alias: 'productDetails' } } },\n];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class ShopRoutingModule { }\n","export default \".list-group-item {\\n  cursor: pointer;\\n  border: none;\\n  padding: 10px 20px;\\n  font-size: 1.1em;\\n}\\n.list-group-item:focus {\\n  outline: none;\\n}\\n.list-group-item.active {\\n  border-radius: 10px;\\n}\\n.list-group-item:not(.active):hover {\\n  color: white;\\n  background-color: rgba(233, 86, 32, 0.705);\\n  border-radius: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hvcC9DOlxcVXNlcnNcXFNFMlxcRGVza3RvcFxcc2tpbmV0XFxjbGllbnQvc3JjXFxhcHBcXHNob3BcXHNob3AuY29tcG9uZW50LnNjc3MiLCJzcmMvYXBwL3Nob3Avc2hvcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtBQ0NKO0FEQ0k7RUFDSSxhQUFBO0FDQ1I7QURFSTtFQUNJLG1CQUFBO0FDQVI7QURHSTtFQUNJLFlBQUE7RUFDQSwwQ0FBQTtFQUNBLG1CQUFBO0FDRFIiLCJmaWxlIjoic3JjL2FwcC9zaG9wL3Nob3AuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGlzdC1ncm91cC1pdGVtIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgIGZvbnQtc2l6ZTogMS4xZW07XHJcblxyXG4gICAgJjpmb2N1cyB7XHJcbiAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgIH1cclxuXHJcbiAgICAmLmFjdGl2ZSB7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIH1cclxuXHJcbiAgICAmOm5vdCguYWN0aXZlKTpob3ZlciB7XHJcbiAgICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjMzLCA4NiwgMzIsIDAuNzA1KTtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgfVxyXG59IiwiLmxpc3QtZ3JvdXAtaXRlbSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyOiBub25lO1xuICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gIGZvbnQtc2l6ZTogMS4xZW07XG59XG4ubGlzdC1ncm91cC1pdGVtOmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbn1cbi5saXN0LWdyb3VwLWl0ZW0uYWN0aXZlIHtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbn1cbi5saXN0LWdyb3VwLWl0ZW06bm90KC5hY3RpdmUpOmhvdmVyIHtcbiAgY29sb3I6IHdoaXRlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzMywgODYsIDMyLCAwLjcwNSk7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG59Il19 */\"","import { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { IBrand } from '../shared/models/brand';\nimport { IProduct } from '../shared/models/product';\nimport { IType } from '../shared/models/productType';\nimport { ShopParams } from '../shared/models/shopParams';\nimport { ShopService } from './shop.service';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.scss']\n})\nexport class ShopComponent implements OnInit {\n  \n  @ViewChild('search', { static: false }) searchTerm: ElementRef;\n\n  products: IProduct[];\n  brands: IBrand[];\n  types: IType[];\n  shopParams: ShopParams;\n  totalCount: number;\n  sortOptions = [\n    { name: 'Alphabetical', value: 'name' },\n    { name: 'Price: Low to High', value: 'priceAsc' },\n    { name: 'Price: High to Low', value: 'priceDesc' }\n  ];\n\n  constructor(\n    private shopService: ShopService\n  ) {\n    this.shopParams = this.shopService.getShopParams();\n  }\n\n  ngOnInit() {\n    this.getProducts(true);\n    this.getBrands();\n    this.getTypes();\n  }\n\n  getProducts(useCache = false) {\n    this.shopService.getProducts(useCache).subscribe(response => {\n      this.products = response.data;\n      this.totalCount = response.count;\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  getBrands() {\n    this.shopService.getBrands().subscribe(response => {\n      this.brands = [ { id: 0, name: 'All' }, ...response ];\n    }, error => {\n      console.log(error);\n    })\n  }\n\n  getTypes() {\n    this.shopService.getTypes().subscribe(response => {\n      this.types = [ { id: 0, name: 'All' }, ...response ];\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  onBrandSelected(brandId: number) {\n    const params = this.shopService.getShopParams();\n    params.brandId = brandId;\n    params.pageNumber = 1;\n    this.shopService.setShopParams(params);\n    this.getProducts();\n  }\n\n  onTypeSelected(typeId: number) {\n    const params = this.shopService.getShopParams();\n    params.typeId = typeId;\n    params.pageNumber = 1;\n    this.shopService.setShopParams(params);\n    this.getProducts();\n  }\n\n  onSortSelected(sort: string) {\n    const params = this.shopService.getShopParams();\n    params.sort = sort;\n    this.shopService.setShopParams(params);\n    this.getProducts();\n  }\n\n  onPageChanged(event: any) {\n    const params = this.shopService.getShopParams();\n    if (params.pageNumber !== event) {\n      params.pageNumber = event;\n      this.shopService.setShopParams(params);\n      this.getProducts(true);\n    }\n  }\n\n  onSearch() {\n    const params = this.shopService.getShopParams();\n    params.search = this.searchTerm.nativeElement.value;\n    params.pageNumber = 1;\n    this.shopService.setShopParams(params);\n    this.getProducts();\n  }\n\n  onReset() {\n    this.searchTerm.nativeElement.value = '';\n    this.shopParams = new ShopParams();\n    this.shopService.setShopParams(this.shopParams);\n    this.getProducts();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ShopComponent } from './shop.component';\nimport { ProductItemComponent } from './product-item/product-item.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { ProductDetailsComponent } from './product-details/product-details.component';\nimport { ShopRoutingModule } from './shop-routing.module';\n\n@NgModule({\n  declarations: [\n    ShopComponent,\n    ProductItemComponent,\n    ProductDetailsComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    ShopRoutingModule\n  ]\n})\nexport class ShopModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\n\nimport { IPagination, Pagination } from '../shared/models/pagination';\nimport { IBrand } from '../shared/models/brand';\nimport { IType } from '../shared/models/productType';\nimport { ShopParams } from '../shared/models/shopParams';\nimport { IProduct } from '../shared/models/product';\nimport { of } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShopService {\n  \n  baseUrl = environment.apiUrl;\n  products: IProduct[] = [];\n  brands: IBrand[] = [];\n  types: IType[] = [];\n  pagination = new Pagination();\n  shopParams = new ShopParams();\n\n  constructor(private http: HttpClient) { }\n\n  getProducts(useCache: boolean) {\n\n    if (useCache === false) {\n      this.products = [];\n    }\n\n    if (this.products.length > 0 && useCache === true) {\n      const pagesReceived = Math.ceil(this.products.length / this.shopParams.pageSize);\n\n      if (this.shopParams.pageNumber <= pagesReceived) {\n        this.pagination.data = this.products.slice((this.shopParams.pageNumber - 1) * this.shopParams.pageSize, this.shopParams.pageNumber * this.shopParams.pageSize);\n\n        return of(this.pagination);\n      }\n    }\n\n    let params = new HttpParams();\n\n    if (this.shopParams.brandId !== 0) {\n      params = params.append('brandId', this.shopParams.brandId.toString());\n    }\n\n    if (this.shopParams.typeId !== 0) {\n      params = params.append('typeId', this.shopParams.typeId.toString());\n    }\n\n    if (this.shopParams.search) {\n      params = params.append('search', this.shopParams.search);\n    }\n\n    params = params.append('sort', this.shopParams.sort);\n    params = params.append('pageIndex', this.shopParams.pageNumber.toString());\n    params = params.append('pageSize', this.shopParams.pageSize.toString());\n\n    return this.http.get<IPagination>(this.baseUrl + 'products', { observe: 'response', params })\n      .pipe(\n        map(response => {\n          this.products = [...this.products, ...response.body.data];\n          this.pagination = response.body;\n          return this.pagination;\n        })\n      );\n  }\n\n  setShopParams(params: ShopParams) {\n    this.shopParams = params;\n  }\n\n  getShopParams() {\n    return this.shopParams;\n  }\n\n  getProduct(id: number) {\n    \n    const product = this.products.find(p => p.id == id);\n\n    if (product) {\n      return of(product);\n    }\n\n    return this.http.get<IProduct>(this.baseUrl + 'products/' + id);\n  }\n\n  getBrands() {\n    if (this.brands.length > 0) {\n      return of(this.brands);\n    }\n    return this.http.get<IBrand[]>(this.baseUrl + 'products/brands').pipe(\n      map(response => {\n        this.brands = response;\n        return response;\n      })\n    );\n  }\n\n  getTypes() {\n    if (this.types.length > 0) {\n      return of(this.types);\n    }\n    return this.http.get<IType[]>(this.baseUrl + 'products/types').pipe(\n      map(response => {\n        this.types = response;\n        return response;\n      })\n    );\n  }\n}\n"],"sourceRoot":"webpack:///","file":"shop-shop-module-es5.js"}