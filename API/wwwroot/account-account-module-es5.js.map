{"version":3,"sources":["src/app/account/login/login.component.html","src/app/account/register/register.component.html","src/app/account/account-routing.module.ts","src/app/account/account.module.ts","src/app/account/login/login.component.scss","src/app/account/login/login.component.ts","src/app/account/register/register.component.scss","src/app/account/register/register.component.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<div class=\\\"d-flex justify-content-center mt-5\\\">\\n    <div class=\\\"col-4\\\">\\n        <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n\\n            <div class=\\\"text-center mb-4\\\">\\n                <h1 class=\\\"h3 mb-3 font-weight-normal\\\">Login</h1>\\n            </div>\\n\\n            <app-text-input formControlName=\\\"email\\\" [label]=\\\"'Email Address'\\\"></app-text-input>\\n            <app-text-input formControlName=\\\"password\\\" [label]=\\\"'Password'\\\" [type]=\\\"'password'\\\"></app-text-input>\\n\\n            <button [disabled]=\\\"loginForm.invalid\\\" class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">Sign in</button>\\n        </form>\\n    </div>\\n</div>\"","export default \"<div class=\\\"d-flex justify-content-center mt-5\\\">\\n    <div class=\\\"col-4\\\">\\n        <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n\\n            <div class=\\\"text-center mb-4\\\">\\n                <h1 class=\\\"h3 mb-3 font-weight-normal\\\">Register</h1>\\n            </div>\\n\\n            <app-text-input formControlName=\\\"displayName\\\" [label]=\\\"'Display Name'\\\"></app-text-input>\\n            <app-text-input formControlName=\\\"email\\\" [label]=\\\"'Email Address'\\\"></app-text-input>\\n            <app-text-input formControlName=\\\"password\\\" [label]=\\\"'Password'\\\" [type]=\\\"'password'\\\"></app-text-input>\\n\\n            <ul class=\\\"text-danger list-unstyled\\\" *ngIf=\\\"errors\\\">\\n                <li *ngFor=\\\"let error of errors\\\">\\n                    {{ error }}\\n                </li>\\n            </ul>\\n\\n            <button [disabled]=\\\"registerForm.invalid\\\" class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\">Register</button>\\n        </form>\\n    </div>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\n\nconst routes: Routes = [\n  { path: 'login', component: LoginComponent },\n  { path: 'register', component: RegisterComponent }\n];\n\n@NgModule({\n  declarations: [],\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class AccountRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\nimport { AccountRoutingModule } from './account-routing.module';\nimport { SharedModule } from '../shared/shared.module';\n\n@NgModule({\n  declarations: [LoginComponent, RegisterComponent],\n  imports: [\n    CommonModule,\n    AccountRoutingModule,\n    SharedModule\n  ]\n})\nexport class AccountModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AccountService } from '../account.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n\n  loginForm: FormGroup;\n  returnUrl: string;\n\n  constructor(\n    private accountService: AccountService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n    this.returnUrl = this.activatedRoute.snapshot.queryParams.returnUrl || '/shop';\n    this.createLoginForm();\n  }\n\n  createLoginForm() {\n    this.loginForm = new FormGroup({\n      email: new FormControl('', [\n        Validators.required,\n        Validators.pattern('^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$')\n      ]),\n      password: new FormControl('', Validators.required)\n    });\n  }\n\n  onSubmit() {\n    this.accountService.login(this.loginForm.value).subscribe(() => {\n      this.router.navigateByUrl(this.returnUrl);\n    }, error => {\n      console.log(error);\n    });\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvcmVnaXN0ZXIvcmVnaXN0ZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AsyncValidatorFn, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { of, timer } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { AccountService } from '../account.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n  registerForm: FormGroup;\n  errors: string[];\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private accountService: AccountService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.createRegisterForm();\n  }\n\n  createRegisterForm() {\n    this.registerForm = this.formBuilder.group({\n      displayName: [null, [Validators.required]],\n      email: [\n        null, [\n          Validators.required,\n          Validators.pattern('^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$')\n        ],\n        [this.validateEmailNotTaken()]\n      ],\n      password: [null, [Validators.required]]\n    });\n  }\n\n  onSubmit() {\n    this.accountService.register(this.registerForm.value).subscribe(response => {\n      this.router.navigateByUrl('/shop');\n    }, error => {\n      this.errors = error.errors;\n    });\n  }\n\n  validateEmailNotTaken(): AsyncValidatorFn {\n    return control => {\n      return timer(500).pipe(\n        switchMap(() => {\n          if (!control.value) {\n            return of(null);\n          }\n          return this.accountService.checkEmailExists(control.value).pipe(\n            map(res => {\n              return res ? { emailExists: true } : null;\n            })\n          );\n        })\n      );\n    };\n  }\n}\n"],"sourceRoot":"webpack:///","file":"account-account-module-es5.js"}